import * as actionType from "../actionTypes";

const initialState = {
    ids: [],
    search: ''
};

export default (state = initialState, {type , payload}) => {
    switch (type) {
        case actionType.FETCH_PHONES_SUCCESS:
            let newObj = Object.fromEntries(
                Object.entries(payload).map(([key, value]) => [key, value.id])
            );
            return {
                ...state,
                ids: Object.values(newObj)
            };

        case actionType.LOAD_MORE_PHONES_SUCCESS:
            let newObjLoadMore = Object.fromEntries(
                Object.entries(payload).map(([key, value]) => [key, value.id])
            );
            return {
                ...state,
                ids: state.ids.concat(Object.values(newObjLoadMore))
            };

        case actionType.SEARCH_PHONE:
            return {
                ...state,
                search: payload
            };

        default: return state
    }
}