import categories from 'api/mockCategories'
import { db } from 'config/firebase'

export const fetchPhonesApi = async () => {
    const dbRef = await db.collection('phones').get();
    return dbRef.docs.map(doc => doc.data());
};

export const fetchMorePhonesApi = async ({offset}) => {
    const dbRef = await db.collection('phones').get();
    return dbRef.docs.map(doc => doc.data());
};

export const fetchPhoneByIdApi = async (id) => {
    const dbRef = await db.collection('phones').get();
    const phones = dbRef.docs.map(doc => doc.data());
    return phones.find(item => item.id === id);
};

export const fetchCategoriesApi = async () => {
    return new Promise((resolve, reject) => {
        resolve(categories)
    })
};

export const editPhoneByIdApi = async (id, data = {}) => {
    db.collection('phones').doc(id).update(data)
    .then(function() {
        console.log("Document successfully updated!");
    });
};

